<% content_for :stylesheets do %> <!--calendar.html.erbã«CSSã‚’ç›´æŽ¥èª­ã¿è¾¼ã‚€-->
  <%= stylesheet_link_tag "calendar" %>
<% end %>

<div class="calendar-page">
  <a href="<%= destroy_user_session_path %>"
     data-turbo-method="delete"
     class="logout-btn">
     ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
  </a>

  <div class="calendar-header">
    <div class="calendar-title">
      <h1>ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼</h1>
    </div>
    <div class="new-plan-btn">
      <%= link_to "æ–°ã—ã„äºˆå®šã‚’ä½œæˆ", new_plan_path, class: "btn add-plan-btn" %>
    </div>
  </div>

 <%= month_calendar class: "simple-calendar", events: @plans, start_day: :sunday do |date, events_for_date| %>
    <% day_class = "day" %>
    <% day_class += " today" if date == Date.today %>
    <% day_class += " sunday" if date.sunday? %>
    <% day_class += " saturday" if date.saturday? %>
    <% day_class += " other-month" if @date && date.month != @date.month %>

    <div class="<%= day_class %>">
      <%= date.day %>
      <% if @shopping_counts[date].present? %>
        <!-- ã‚¯ãƒªãƒƒã‚¯ã§ãã®æ—¥ã®ãƒªã‚¹ãƒˆè©³ç´°ãƒšãƒ¼ã‚¸ã¸é·ç§» -->
        <%= link_to "ðŸ›’ #{@shopping_counts[date]}ä»¶", shopping_lists_path(date: date), class: "shopping-count-link" %>
        <%= link_to "+", new_shopping_list_path(date: date), class: "add-button" %>
      <% else %>
        <%= link_to "+", new_shopping_list_path(date: date), class: "add-button" %>
      <% end %>
    </div>
    <%= render partial: "plans/plan", locals: { plans_for_date: @plans.select { |p| p.start_time.to_date == date } } %>
  <% end %>
</div>