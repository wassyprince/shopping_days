<% content_for :stylesheets do %> <!--calendar.html.erb„Å´CSS„ÇíÁõ¥Êé•Ë™≠„ÅøËæº„ÇÄ-->
  <%= stylesheet_link_tag "calendar" %>
<% end %>

<div class="calendar-page">
  <div class="calendar-header">
    <div class="calendar-title">
      <h1>üìÖ <%= @date.strftime("%YÂπ¥%-mÊúà") %>„ÅÆ„Ç´„É¨„É≥„ÉÄ„Éº</h1>
    </div>

    <div class="calendar-actions">
      <div class="account-links">
        <a href="<%= destroy_user_session_path %>" data-turbo-method="delete" class="logout-btn">„É≠„Ç∞„Ç¢„Ç¶„Éà</a>
        <%= link_to "„Ç¢„Ç´„Ç¶„É≥„ÉàÁ∑®ÈõÜ„ÉªÂâäÈô§", edit_user_path(current_user), class: "account-edit-link" %>
      </div>
      <div class="new-plan-btn">
        <%= link_to "Êñ∞„Åó„ÅÑ‰∫àÂÆö„Çí‰ΩúÊàê", new_plan_path, class: "btn add-plan-btn" %>
      </div>
    </div>
  </div>

 <%= month_calendar class: "simple-calendar", events: @plans, start_day: :sunday do |date, events_for_date| %>
    <% day_class = "day" %>
    <% day_class += " today" if date == Date.today %>
    <% day_class += " sunday" if date.sunday? %>
    <% day_class += " saturday" if date.saturday? %>
    <% day_class += " other-month" if @date && date.month != @date.month %>

    <div class="<%= day_class %>">
      <%= date.day %>
      <% if @shopping_counts[date].present? %>
        <!-- „ÇØ„É™„ÉÉ„ÇØ„Åß„Åù„ÅÆÊó•„ÅÆ„É™„Çπ„ÉàË©≥Á¥∞„Éö„Éº„Ç∏„Å∏ÈÅ∑Áßª -->
        <%= link_to "üõí #{@shopping_counts[date]}‰ª∂", shopping_lists_path(date: date), class: "shopping-count-link" %>
        <%= link_to "+", new_shopping_list_path(date: date), class: "add-button" %>
      <% else %>
        <%= link_to "+", new_shopping_list_path(date: date), class: "add-button" %>
      <% end %>
    </div>
    <%= render partial: "plans/plan", locals: { plans_for_date: @plans.select { |p| p.start_time.to_date == date } } %>
  <% end %>
</div>